<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Author</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>Add Author</h2>
<button id="theme-toggle">ğŸŒ™ Dark mode</button>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
      <div class="flash">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="POST">
  <label>Name</label>
  <input type="text" name="name" required>

  <label>Birth date</label>
  <input type="date" name="birthdate" required>

  <label>Date of death</label>
  <input type="date" name="date_of_death">

  <input type="submit" value="Add Author">
</form>

<p><a href="/">Back to Home</a></p>

<script>
  const toggleBtn = document.getElementById("theme-toggle");
  const savedTheme = localStorage.getItem("theme");

  if (savedTheme === "dark") {
    document.documentElement.setAttribute("data-theme", "dark");
    toggleBtn.textContent = "â˜€ï¸ Light mode";
  }

  toggleBtn.addEventListener("click", () => {
    const dark = document.documentElement.getAttribute("data-theme") === "dark";
    if (dark) {
      document.documentElement.removeAttribute("data-theme");
      localStorage.setItem("theme", "light");
      toggleBtn.textContent = "ğŸŒ™ Dark mode";
    } else {
      document.documentElement.setAttribute("data-theme", "dark");
      localStorage.setItem("theme", "dark");
      toggleBtn.textContent = "â˜€ï¸ Light mode";
    }
  });
</script>

</body>
</html>
